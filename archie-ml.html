<!--
Archie ML parser
created 2015-09-21
Â© Copyright 2015 The Kansas City Star. All Rights Reserved.
-->

<link rel="import" href="../polymer/polymer.html">

<dom-module id="archie-ml">
  <template>
    <style>
      :host {
        display: none;
      }
    </style>

    <div id="content"><content></content></div>
  </template>
</dom-module>

<script src="../archieml-js/archieml.js"></script>
<script>
  Polymer({
    is: 'archie-ml',

    properties: {
      content: {
        type: String,
        observer: 'load'
      },

      value: {
        type: Object,
        readOnly: true,
        notify: true
      }
    },

    load: function(content) {
      this.set('value', archieml.load(content));
    },

    ready: function() {
      if(!this.content && this.$.content.textContent.length > 0) {
        this.load(this.$.content.textContent);
      }
    }
  });
</script>
